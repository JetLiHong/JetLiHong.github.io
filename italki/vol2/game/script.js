/*!
 *
 *  # Sojitz Vietnam Story
 *
 *  - (c) Sojitz Corporation - http://www.sojitz.com/
 *
 */
/*! Native Promise Only
    v0.8.0-a (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
!function(e,t,n){t[e]=t[e]||n(),"undefined"!=typeof module&&module.exports?module.exports=t[e]:"function"==typeof define&&define.amd&&define(function(){return t[e]})}("Promise","undefined"!=typeof global?global:this,function(){"use strict";function e(e,t){d.add(e,t),f||(f=p(d.drain))}function t(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function n(){for(var e=0;e<this.chain.length;e++)r(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function r(e,n,r){var o,i;try{n===!1?r.reject(e.msg):(o=n===!0?e.msg:n.call(void 0,e.msg),o===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=t(o))?i.call(o,r.resolve,r.reject):r.resolve(o))}catch(a){r.reject(a)}}function o(r){var a,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(a=t(r))?e(function(){var e=new c(s);try{a.call(r,function(){o.apply(e,arguments)},function(){i.apply(e,arguments)})}catch(t){i.call(e,t)}}):(s.msg=r,s.state=1,s.chain.length>0&&e(n,s))}catch(l){i.call(new c(s),l)}}}function i(t){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=t,r.state=2,r.chain.length>0&&e(n,r))}function a(e,t,n,r){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then(function(e){n(o,e)},r)}(o)}function c(e){this.def=e,this.triggered=!1}function s(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function l(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new s(this);this.then=function(t,o){var i={success:"function"!=typeof t||t,failure:"function"==typeof o&&o};return i.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t}),r.chain.push(i),0!==r.state&&e(n,r),i.promise},this["catch"]=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){o.call(r,e)},function(e){i.call(r,e)})}catch(a){i.call(r,a)}}var u,f,d,h=Object.prototype.toString,p="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),u=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:r!==!1})}}catch(m){u=function(e,t,n){return e[t]=n,e}}d=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,r;return{add:function(o,i){r=new e(o,i),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var e=t;for(t=n=f=void 0;e;)e.fn.call(e.self),e=e.next}}}();var g=u({},"constructor",l,!1);return l.prototype=g,u(g,"__NPO__",0,!1),u(l,"resolve",function(e){var t=this;return e&&"object"==typeof e&&1===e.__NPO__?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),u(l,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),u(l,"all",function(e){var t=this;return"[object Array]"!=h.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var o=e.length,i=Array(o),c=0;a(t,e,function(e,t){i[e]=t,++c===o&&n(i)},r)})}),u(l,"race",function(e){var t=this;return"[object Array]"!=h.call(e)?t.reject(TypeError("Not an array")):new t(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");a(t,e,function(e,t){n(t)},r)})}),l}),
/*!
// --------------------------------------------------
// easing.js v0.5.4
// Generic set of easing functions with AMD support
// https://github.com/danro/easing-js
// This code may be freely distributed under the MIT license
// http://danro.mit-license.org/
// --------------------------------------------------
// All functions adapted from Thomas Fuchs & Jeremy Kahn
// Easing Equations (c) 2003 Robert Penner, BSD license
// https://raw.github.com/danro/easing-js/master/LICENSE
// --------------------------------------------------
*/
function(e,t){"function"==typeof define?define(t):"undefined"!=typeof module?module.exports=t:this[e]=t}("easing",{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}}),
/*!
 *                                                                                                                         (â„ )
 *  sML JavaScript Library
 *
 *  - "I'm a Simple and Middling Library."
 *  - Copyright (c) Satoru MATSUSHIMA - https://github.com/satorumurmur/sML
 *  - Licensed under the MIT license. - http://www.opensource.org/licenses/mit-license.php
 *
 */
sML=function(){var e="0.999.48",t=201705311134,n=function(e){var t="string"==typeof e?[n.create.apply(this,arguments)]:e.length?e:[e];if(window.__proto__)t.__proto__=n.SML;else for(var r in n.SML)t[r]=n.SML[r];return t};n.version=e,n.build=t;var r=navigator.userAgent,o=function(e,t){var n=parseFloat(r.replace(new RegExp("^.*"+e+"[ :\\/]?(\\d+([\\._]\\d+)?).*$"),t?t:"$1").replace(/_/g,"."));return isNaN(n)?void 0:n};return n.OperatingSystem=n.OS=function(e){return/iP(hone|ad|od( touch)?);/.test(r)?e.iOS=o("CPU (iP(hone|ad|od( touch)?) )?OS","$4"):/OS X 10[\._]\d/.test(r)?e.macOS=o("OS X "):/Windows Phone( OS)? \d/.test(r)?e.WindowsPhone=o("Windows Phone OS")||o("Windows Phone"):/Windows( NT)? \d/.test(r)?e.Windows=function(e){return e>=10?e:e>=6.3?8.1:e>=6.2?8:e>=6.1?7:e}(o("Windows NT")||o("Windows")):/Android \d/.test(r)?e.Android=o("Android"):/CrOS/.test(r)?e.Chrome=!0:/X11;/.test(r)?e.Linux=!0:/Firefox/.test(r)&&(e.Firefox=!0),e}({}),n.UserAgent=n.UA=function(e){/Gecko\/\d/.test(r)?(e.Gecko=o("rv"),/Firefox\/\d/.test(r)&&(e.Firefox=o("Firefox"))):/Edge\/\d/.test(r)?e.Edge=o("Edge"):/Chrome\/\d/.test(r)?(e.Blink=o("Chrome")||!0,/OPR\/\d/.test(r)?e.Opera=o("OPR"):/Silk\/\d/.test(r)?e.Silk=o("Silk"):e.Chrome=e.Blink):/AppleWebKit\/\d/.test(r)?(e.WebKit=o("AppleWebKit"),/CriOS \d/.test(r)?e.Chrome=o("CriOS"):/FxiOS \d/.test(r)?e.Firefox=o("FxiOS"):/Version\/\d/.test(r)&&(e.Safari=o("Version"))):/Trident\/\d/.test(r)&&(e.Trident=o("Trident"),e.InternetExplorer=o("rv")||o("MSIE"));try{e.Flash=parseFloat(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin.description.replace(/^.+?([\d\.]+).*$/,"$1"))}catch(t){}return e}({}),n.Environments=n.Env=function(e){return["OS","UA"].forEach(function(t){for(var r in n[t])"Flash"!=r&&n[t][r]&&e.push(r)}),e}([]),n.log=function(){try{console.log.apply(console,arguments)}catch(e){}},n.write=function(){document.open();for(var e=0,t=arguments.length;e<t;e++)document.write(arguments[e]);document.close()},n.Fill={Prefixes:["webkit","moz","MS","ms","o"],carePrefix:function(e,t){if(t in e)return e[t];t=t[0].toUpperCase()+t.slice(1);for(var n="",r=0,o=this.Prefixes.length;r<o;r++)if(n=this.Prefixes[r]+t,n in e)return e[n]}},n.UA.InternetExplorer<=9&&("undefined"==typeof window.console&&(window.console={}),"function"!=typeof window.console.log&&(window.console.log=function(){})),window.requestAnimationFrame=n.Fill.carePrefix(window,"requestAnimationFrame")||function(e){setTimeout(e,1e3/60)},(!window.CustomEvent||"function"!=typeof window.CustomEvent&&window.CustomEvent.toString().indexOf("CustomEventConstructor")===-1)&&(window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n},window.CustomEvent.prototype=window.Event.prototype),n.Event={add:function(e,t){for(var n in t)e.addEventListener(n,t[n],!1);return e},remove:function(e,t){for(var n in t)e.removeEventListener(n,t[n]);return e},preventDefault:function(e){e.preventDefault()},stopPropagation:function(e){e.stopPropagation()},OnResizeFont:{RegularFunctions:[],onZoomInFunctions:[],onZoomOutFunctions:[],addEventListener:function(e,t){t&&t>0?this.onZoomInFunctions.push(e):t&&t<0?this.onZoomOutFunctions.push(e):this.RegularFunctions.push(e)},detect:function(e,t){if(!e)var e=document.body;if(!t)var t=200;this.checker=e,this.timer=setInterval(function(){var e=n.Coord.getElementSize(n.onResizeFont.checker).h;if(n.onResizeFont.prevHeight&&n.onResizeFont.prevHeight!=e){var t=n.onResizeFont.RegularFunctions;n.onResizeFont.prevHeight&&n.onResizeFont.prevHeight<e?t=t.concat(n.onResizeFont.onZoomInFunctions):n.onResizeFont.prevHeight&&n.onResizeFont.prevHeight>e&&(t=t.concat(n.onResizeFont.onZoomOutFunctions));for(var r=0,o=t.length;r<o;r++)t[r]()}n.onResizeFont.prevHeight=e},t)},stopDetect:function(){this.timer&&clearTimeout(this.timer)}}},n.addEventListener=n.Event.add,n.removeEventListener=n.Event.remove,n.Timers={setTimeout:function(){var e=Array.prototype.shift.call(arguments),t=Array.prototype.shift.call(arguments);return Array.prototype.unshift.call(arguments,e),Array.prototype.unshift.call(arguments,t),setTimeout.apply(window,arguments)},setInterval:function(){var e=Array.prototype.shift.call(arguments),t=Array.prototype.shift.call(arguments);return Array.prototype.unshift.call(arguments,e),Array.prototype.unshift.call(arguments,t),setInterval.apply(window,arguments)}},n.setTimeout=n.Timers.setTimeout,n.setInterval=n.Timers.setInterval,n.Drawer={draw:function(e,t){e.ToBeDrawn||(requestAnimationFrame(function(){t.apply(e,arguments),e.ToBeDrawn=!1}),e.ToBeDrawn=!0)}},n.draw=n.Drawer.draw,n.set=n.edit=function(e,t,r){for(var o in t)"on"!=o&&"extraHTML"!=o&&(/^data-/.test(o)?e.setAttribute(o,t[o]):e[o]=t[o]);return t&&(t.extraHTML&&(e.innerHTML=e.innerHTML+t.extraHTML),t.on&&n.Event.add(e,t.on),r&&n.CSS.set(e,r)),e},n.create=function(e,t,r){return n.set(document.createElement(e),t,r)},n.changeClass=n.changeClassName=function(e,t){return t?e.className=t:e.removeAttribute("class"),e.className},n.addClass=n.addClassName=function(e,t){if("string"!=typeof t)return e.className;if(t=t.trim().replace(/ +/g," "),!t)return e.className;if(e.className){if((" "+e.className+" ").indexOf(" "+t+" ")>-1)return e.className;t=e.className+" "+t}return n.changeClass(e,t)},n.removeClass=n.removeClassName=function(e,t){return e.className?"string"!=typeof t?e.className:(t=t.trim().replace(/ +/g," "))?(" "+e.className+" ").indexOf(" "+t+" ")<0?e.className:(t=(" "+e.className+" ").replace(" "+t+" "," ").trim().replace(/ +/g," "),n.changeClass(e,t)):e.className:""},n.replaceClass=n.replaceClassName=function(e,t,r){return n.removeClass(e,t),n.addClass(e,r)},n.appendChildren=function(e,t){t.length||(t=[t]);for(var n=0,r=t.length;n<r;n++)e.appendChild(t[n]);return t},n.deleteElement=function(e){e.parentNode&&e.parentNode.removeChild(e),e.innerHTML="",e=null,delete e},n.hatch=function(){for(var e="",t=0,n=arguments.length;t<n;t++)e+=arguments[t];var r=document.createElement("div"),o=document.createDocumentFragment();r.innerHTML=e;for(var t=0,n=r.childNodes.length;t<n;t++)o.appendChild(r.firstChild);return o},n.cloneObject=function(e){var t=function(){};return t.prototype=e,new t},n.CSS={Prefix:n.UA.WebKit||n.UA.Blink?"Webkit":n.UA.Gecko?"Moz":n.UA.Trident?"ms":"",TransitionEnd:n.UA.WebKit||n.UA.Blink?"webkitTransitionEnd":n.UA.Gecko?"transitionend":n.UA.Trident?"MSTransitionEnd":"",AnimationEnd:n.UA.WebKit||n.UA.Blink?"webkitAnimationEnd":n.UA.Gecko?"animationend":n.UA.Trident?"MSAnimationEnd":"",Catalogue:[],getSFO:function(e){for(var t=0,n=this.Catalogue.length;t<n;t++)if(this.Catalogue[t].Element==e)return this.Catalogue[t];return this.Catalogue[this.Catalogue.push({Element:e})-1]},getComputedStyle:function(e,t){var n=e.currentStyle||document.defaultView.getComputedStyle(e,t?t:"");return n},StyleSheets:[],getStyleSheet:function(e){for(var t=0,n=this.StyleSheets.length;t<n;t++)if(this.StyleSheets[t].StyleFor==e)return this.StyleSheets[t].StyleSheet;var r=e.createElement("style");return r.appendChild(e.createTextNode("")),e.getElementsByTagName("head")[0].appendChild(r),this.StyleSheets.push({StyleFor:e,StyleSheet:r.sheet}),r.sheet},appendRule:function(e,t,n){if(!e||!t)return null;n=n?n:document;var r=this.getStyleSheet(n);if(!r)return null;if("function"==typeof e.join&&(e=e.join(", ")),"function"==typeof t.join)t=t.join(" ");else if("object"==typeof t){var o=[];for(var i in t)o.push(i.trim()+": "+t[i].replace(/;?\s*$/,"").trim()+";");t=o.join(" ")}return r.insertRule(e+"{"+t+"}",r.cssRules.length)},deleteRule:function(e,t){var n=this.getStyleSheet(t?t:document);if(n)return n.deleteRule(e)},setProperty:function(e,t,n){return e&&t?(/^(animation|background(-s|S)ize|box|break|column|filter|flow|hyphens|region|shape|transform|transition|writing)/.test(t)?e.style[this.Prefix+t.replace(/(-|^)([a-z])/g,function(e,t,n){return n?n.toUpperCase():""})]=n:"float"==t&&(t="cssFloat"),e.style[t]=n,e):e},addTransitionEndListener:function(e,t){"function"==typeof t&&(e.sMLTransitionEndListener=t,e.addEventListener(this.TransitionEnd,e.sMLTransitionEndListener))},removeTransitionEndListener:function(e){"function"==typeof e.sMLTransitionEndListener&&(e.removeEventListener(this.TransitionEnd,e.sMLTransitionEndListener),delete e.sMLTransitionEndListener)},set:function(e,t,n){if(!e||"object"!=typeof t)return e;if(this.removeTransitionEndListener(e),"function"==typeof n&&(this.removeTransitionEndListener(e),this.addTransitionEndListener(e,n)),t instanceof Array)t.forEach(function(t){t=t.split(":");var n=t.shift().trim(),r=t.join("").replace(/;\s*$/,"").trim();this.setProperty(e,n,r)});else{for(var r in t)/^transition/.test(r)&&(this.setProperty(e,r,t[r]),delete t[r]);for(var r in t)this.setProperty(e,r,t[r])}return e},getRGB:function(e){for(var t=e.replace(/rgb\(([\d\., ]+)\)/,"$1").replace(/\s/g,"").split(","),n=0,r=t.length;n<r;n++)t[n]=parseInt(t[n]);return t},getRGBA:function(e){for(var t=e.replace(/rgba?\(([\d\., ]+)\)/,"$1").replace(/\s/g,"").split(","),n=0,r=t.length;n<r;n++)t[n]=parseInt(t[n]);return t[3]||(t[3]=1),t}},n.style=n.css=function(e,t,r){return n.CSS.set(e,t,r)},n.appendStyleRule=n.appendCSSRule=function(e,t,r){return n.CSS.appendRule(e,t,r)},n.deleteStyleRule=n.deleteCSSRule=function(e,t){return n.CSS.deleteRule(e,t)},n.Easing="object"==typeof window.easing?window.easing:{},n.Easing.linear=function(e){return e},n.Easing.getEaser=function(e){return function(t){return t+e/100*(1-t)*t}},n.Transition={set:function(e,t){return t||(t={}),e.sMLTransition&&clearTimeout(e.sMLTransition.Timer),e.sMLTransition={Element:e,CurrentFrame:0,Frames:t.Frames?t.Frams:10,TimePerFrame:t.TimePerFrame?t.TimePerFrame:10,Easing:t.Easing?t.Easing:void 0,EasingX:t.EasingX?t.EasingX:void 0,before:"function"==typeof t.before?t.before:void 0,among:"function"==typeof t.among?t.among:void 0,after:"function"==typeof t.after?t.after:void 0,callback:"function"==typeof t.callback?t.callback:void 0,getNext:function(e,t,n,r){var o=1,i=this.CurrentFrame/this.Frames;if(!n&&this.Easing)var n=this.Easing;if(!r&&this.EasingX)var r=this.EasingX;return o=n?0==r?i+n/(100*Math.PI)*Math.sin(Math.PI*i):r?(100+r*n)*i/(2*r*n*i+100-r*n):i+n/100*(1-i)*i:i,e+(t-e)*o},getNextColor:function(e,t,n,r){3==e.length&&4==t.length?e[3]=1:4==e.length&&3==t.length&&(t[3]=1);for(var o=[],i=0,a=e.length;i<a;i++)o[i]=Math.round(this.getNext(e[i],t[i]));return o},begin:function(){this.before&&this.before.call(e,e.sMLTransition),function(){this.CurrentFrame++!=this.Frames?(this.among&&this.among.call(e,e.sMLTransition),this.Timer=setTimeout(arguments.callee,this.TimePerFrame)):(this.after&&this.after.call(e,e.sMLTransition),this.callback&&this.callback.call(e,e.sMLTransition))}()}},e.sMLTransition}},n.transition=function(e,t){n.Transition.set(e,t).begin()},n.Coord={getXY:function(e,t){return{X:e,x:e,Y:t,y:t}},getWH:function(e,t){return{Width:e,width:e,W:e,w:e,Height:t,height:t,H:t,h:t}},getXYTRBLCMWH:function(e,t,n,r,o,i,a,c,s,l){return{X:e,x:e,Y:t,y:t,Top:n,top:n,T:n,t:n,Right:r,right:r,R:r,r:r,Bottom:o,bottom:o,B:o,b:o,Left:i,left:i,L:i,l:i,Center:a,center:a,C:a,c:a,Middle:c,middle:c,M:c,m:c,Width:s,width:s,W:s,w:s,Height:l,height:l,H:l,h:l}},getScreenSize:function(){return this.getWH(screen.availWidth,screen.availHeight)},getScrollSize:function(e){return e&&e!=window&&e!=document||(e=document.documentElement),this.getWH(e.scrollWidth,e.scrollHeight)},getOffsetSize:function(e){return e&&e!=window||(e=document.documentElement),e==document?this.getScrollSize(document.documentElement):this.getWH(e.offsetWidth,e.offsetHeight)},getClientSize:function(e){return e&&e!=window||(e=document.documentElement),e==document?this.getScrollSize(document.documentElement):this.getWH(e.clientWidth,e.clientHeight)},getDocumentSize:function(){return this.getScrollSize(document.documentElement)},getWindowSize:function(){return this.getOffsetSize(document.documentElement)},getElementSize:function(e){return this.getOffsetSize(e)},getWindowCoord:function(e){return this.getXY(window.screenLeft||window.screenX,window.screenTop||window.screenY)},getElementCoord:function(e,t){var n=t&&t.RtL,r=e.offsetLeft,o=e.offsetTop;for(n&&(r=r+e.offsetWidth-this.getOffsetSize(document.documentElement).W);e.offsetParent;)e=e.offsetParent,r+=e.offsetLeft,o+=e.offsetTop;return this.getXY(r,o)},getScrollCoord:function(e){return e&&e!=window?this.getXY(e.scrollLeft,e.scrollTop):this.getXY(window.scrollX||window.pageXOffset||document.documentElement.scrollLeft,window.scrollY||window.pageYOffset||document.documentElement.scrollTop)},getScrollLimitCoord:function(e,t){var n=t&&t.RtL;e&&e!=window||(e=document.documentElement);var r=this.getScrollSize(e),o=this.getClientSize(e);return this.getXY((r.W-o.W)*(n?-1:1),r.H-o.H)},getEventCoord:function(e){return e?this.getXY(e.pageX,e.pageY):this.getXY(0,0)},getCoord:function(e,t){if(t&&t.RtL)return this.getCoord_RtL(e);if(e==screen)var n=this.getScreenSize(),r={X:0,Y:0},o={X:n.W,Y:n.H};else if(e==window)var n=this.getOffsetSize(document.documentElement),r=this.getScrollCoord(),o={X:r.X+n.W,Y:r.Y+n.H};else if(e==document)var n=this.getScrollSize(document.documentElement),r={X:0,Y:0},o={X:n.W,Y:n.H};else{if(!e.tagName)return{};var n=this.getOffsetSize(e),r=this.getElementCoord(e),o={X:r.X+n.W,Y:r.Y+n.H}}return this.getXYTRBLCMWH(r.X,r.Y,r.Y,o.X,o.Y,r.X,Math.round((r.X+o.X)/2),Math.round((r.Y+o.Y)/2),n.W,n.H)},getCoord_RtL:function(e){if(e==screen)var t=this.getScreenSize(),n={X:t.W,Y:0},r={X:0,Y:t.H};else if(e==window)var t=this.getOffsetSize(document.documentElement),n=this.getScrollCoord(),r={X:n.X-t.W,Y:n.Y+t.H};else if(e==document)var t=this.getScrollSize(document.documentElement),n={X:0,Y:0},r={X:t.W,Y:t.H};else{if(!e.tagName)return{};var t=this.getElementSize(e),n=this.getElementCoord(e,1),r={X:n.X-t.W,Y:n.Y+t.H}}return this.getXYTRBLCMWH(n.X,n.Y,n.Y,n.X,r.Y,r.X,Math.round((r.X+n.X)/2),Math.round((n.Y+r.Y)/2),t.W,t.H)}},n.getCoord=function(){return n.Coord.getCoord.apply(n.Coord,arguments)},n.Scroller={distillSetting:function(e,t){var r={};if(e instanceof HTMLElement)r.Target=n.Coord.getElementCoord(e);else if("number"==typeof e)r.Target={X:void 0,Y:e};else{if(!e)return!1;r.Target={X:e.X,Y:e.Y}}return r.Frame=e.Frame&&e.Frame instanceof HTMLElement?e.Frame:window,r.scrollTo=r.Frame===window?function(e,t){window.scrollTo(e,t)}:function(e,t){this.Frame.scrollLeft=e,this.Frame.scrollTop=t},r.Start=n.Coord.getScrollCoord(r.Frame),r.Start.Time=(new Date).getTime(),"number"!=typeof r.Target.X&&(r.Target.X=r.Start.X),"number"!=typeof r.Target.Y&&(r.Target.Y=r.Start.Y),t||(t={}),r.Duration="number"==typeof t.Duration&&t.Duration>=0?t.Duration:100,r.ease=function(){switch(typeof t.Easing){case"function":return t.Easing;case"string":return n.Easing[t.Easing]?n.Easing[t.Easing]:n.Easing.linear;case"number":return n.Easing.getEaser(t.Easing)}return n.Easing.linear}(),r.before="function"==typeof t.before?t.before:function(){},r.among="function"==typeof t.among?t.among:function(){},r.after="function"==typeof t.after?t.after:function(){},r.callback="function"==typeof t.callback?t.callback:function(){},r.canceled="function"==typeof t.canceled?t.canceled:function(){},r.ForceScroll=t.ForceScroll,r},scrollTo:function(e,t){return this.Setting=this.distillSetting(e,t),!!this.Setting&&void this.scrollTo_begin()},scrollTo_begin:function(){clearTimeout(this.Timer),this.Setting.ForceScroll?this.preventUserScrolling():this.addScrollCancelation(),this.Setting.before(),this.scrollTo_among()},scrollTo_among:function(){var e=this.Setting.Duration?((new Date).getTime()-this.Setting.Start.Time)/this.Setting.Duration:1;return e>=1?this.scrollTo_end():(e=this.Setting.ease(e),this.Setting.scrollTo(Math.round(this.Setting.Start.X+(this.Setting.Target.X-this.Setting.Start.X)*e),Math.round(this.Setting.Start.Y+(this.Setting.Target.Y-this.Setting.Start.Y)*e)),this.Setting.among(),void(this.Timer=setTimeout(function(){n.Scroller.scrollTo_among()},10)))},scrollTo_end:function(){this.Setting.scrollTo(this.Setting.Target.X,this.Setting.Target.Y),this.Setting.after(),this.Setting.callback(),this.Setting.ForceScroll?n.Scroller.allowUserScrolling():n.Scroller.removeScrollCancelation(),delete this.Setting},cancelScrolling:function(){clearTimeout(n.Scroller.Timer),n.Scroller.Setting.canceled(),delete n.Scroller.Setting,n.Scroller.removeScrollCancelation()},addScrollCancelation:function(){["keydown","mousedown","wheel"].forEach(function(e){document.addEventListener(e,n.Scroller.cancelScrolling)})},removeScrollCancelation:function(){["keydown","mousedown","wheel"].forEach(function(e){document.removeEventListener(e,n.Scroller.cancelScrolling)})},preventUserScrolling:function(){["keydown","mousedown","wheel"].forEach(function(e){document.addEventListener(e,n.Scroller.preventDefault)})},allowUserScrolling:function(){["keydown","mousedown","wheel"].forEach(function(e){document.removeEventListener(e,n.Scroller.preventDefault)})},preventDefault:function(e){return e.preventDefault()}},n.scrollTo=function(){n.Scroller.scrollTo.apply(n.Scroller,arguments)},n.Ajax={open:function(e){if(!e||"string"!=typeof e.URI||"function"!=typeof e.onsuccess)return!1;var t=new XMLHttpRequest;e.Query||(e.Query=null),e.Auth||(e.Auth=["",""]),e.MimeType||(e.MimeType=null),e.onsuccess||(e.onsuccess=function(){}),e.onfailed||(e.onfailed=function(){n.each(arguments,function(){n.log(this+"")})}),e.ontimeout||(e.ontimeout=e.onfailed),e.Async!==!1&&(e.Async=!0),e.Method=e.Method&&/^POST$/i.test(e.Method)?"POST":"GET";var r="";if(e.Query)for(var o in e.Query)r+="&"+o+"="+encodeURIComponent(e.Query[o]);return r&&("GET"==e.method?(e.URI=e.URI+(e.URI.indexOf("?")>0?r:r.replace(/^&/,"?")),r=null):"POST"==e.Method&&(r=r.replace(/^&/,""))),t.sMLAjaxTimeout=0,t.sMLAjaxTimeoutTimer=setTimeout(function(){t.sMLAjaxTimeout=1,e.ontimeout("sML.AJAX.get Timeout: "+e.URI)},1e4),e.onstate4=function(n,r){t.sMLAjaxTimeout||(clearTimeout(t.sMLAjaxTimeoutTimer),200==t.status||0==t.status?e.onsuccess(n,r):e.onfailed("sML.AJAX.get Failed: ("+t.status+") "+URL),delete t)},t.onreadystatechange=function(){switch(this.readyState){case 4:return e.onstate4.call(this,this.responseText,this.responseXML)}},e.MimeType&&t.overrideMimeType(e.MimeType),t.open(e.Method,e.URI,e.Async,e.Auth[0],e.Auth[1]),"POST"==e.Method&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(r),t}},n.ajax=n.Ajax.open,n.Location={RE:new RegExp("^((([a-z]+)://([^/\\?#]+))(/[^\\?#]*))(\\?[^\\?#]*)?(#[^#]*)?$"),getFile:function(e){return(e?e:location.href).replace(this.RE,"$1")},getOrigin:function(e){return(e?e:location.href).replace(this.RE,"$2")},getProtocol:function(e){return(e?e:location.href).replace(this.RE,"$3")},getHost:function(e){return(e?e:location.href).replace(this.RE,"$4")},getPathname:function(e){return(e?e:location.href).replace(this.RE,"$5")},getSearch:function(e){return(e?e:location.href).replace(this.RE,"$6")},getHash:function(e){return(e?e:location.href).replace(this.RE,"$7")},getDirectory:function(e){return this.getFile(e).replace(/\/[^\/]*$/,"")},getId:function(e){return this.getHash(e).replace("#","")},getQueries:function(e){var t=(e?e:location.href).split("?");if(2!=t.length)return{};for(var n={},r=t[1].replace(/#.*$/,"").split("&"),o=0,i=r.length;o<i;o++)if(r[o]){var a=r[o].split("=");a.length<2?a[1]=null:a.length>2&&(a[1]=r[o].replace(a[0]+"=","")),n[a[0]]=a[1]}return n},isIndexFile:function(e){return/index\.(x?html?|php|cgi|[ja]spx?)$/.test(this.getPathname(e))},isSameFile:function(e,t){return this.getFile(e)==(t?this.getOrigin(t):location.protocol+"//"+location.host+location.pathname)},isSameOrigin:function(e,t){return this.getOrigin(e)==(t?this.getOrigin(t):location.protocol+"//"+location.host)},isSameProtocol:function(e,t){return this.getProtocol(e)==(t?this.getProtocol(t):location.protocol)},isSameHost:function(e,t){return this.getHost(e)==(t?this.getHost(t):location.host)},isSameHash:function(e,t){return this.getHash(e)==(t?this.getHash(t):location.hash)},isSameDirectory:function(e,t){return this.getDirectory(e)==(t?this.getDirectory(t):(location.protocol+"//"+location.host+location.pathname).replace(/\/[^\/]*$/,""))},isSameId:function(e,t){return this.getId(e)==(t?this.getId(t):location.hash.replace("#",""))}},n.getQueries=n.Location.getQueries,n.Cookies={read:function(e){if("string"!=typeof e||!e)return"";e=encodeURIComponent(e);for(var t=document.cookie.split("; "),n="",r=0,o=t.length;r<o;r++)if(t[r].substr(0,e.length+1)==e+"="){n=t[r].substr(e.length+1,t[r].length);break}return decodeURIComponent(n)},write:function(e,t,n){if("string"!=typeof e||!e)return!1;if("string"!=typeof t)return!1;"object"!=typeof n&&(n={}),e=encodeURIComponent(e),t=encodeURIComponent(t),n.Path="string"==typeof n.Path?n.Path:location.pathname.replace(/[^\/]+$/,""),n.Expires="number"==typeof n.Expires?n.Expires:864e5;var r=new Date;return document.cookie=[e+"="+t,"path="+n.Path,"expires="+r.toGMTString(r.setTime(r.getTime()+n.Expires))].join("; "),document.cookie}},n.JSON={parse:function(e){try{return JSON.parse(e)}catch(t){return{}}},stringify:function(e){try{return JSON.stringify(e)}catch(t){return""}}},n.each=function(e,t,n,r){for(var o=n?n:0,i=r?r+1:e.length;o<i&&t.call(e[o],o,e)!==!1;o++);return e},Array.prototype.includes||(Array.prototype.includes=function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]==e)return!0}),n.Math={sum:function(){for(var e=0,t=0,n=arguments.length;t<n;t++){var r=0;"number"==typeof arguments[t]?r=arguments[t]:"string"==typeof arguments[t]&&(r=arguments[t].length),e+=r}return e},random:function(e,t){return isNaN(e)&&isNaN(t)?(e=0,t=1):isNaN(e)?e=0:isNaN(t)&&(t=0),e=Math.min(e,t),t=Math.max(e,t),Math.floor(Math.random()*(t-e+1))+e}},n.String={pad:function(e,t,n){if(e+="","number"==typeof e&&(e+=""),"number"==typeof t&&(t+=""),"string"!=typeof e||"string"!=typeof t||"number"!=typeof n||n<1||e.length>=n)return e;for(;e.length<n;)e=t+e;return e.slice(-n)},insertZeroWidthSpace:function(e){return e.replace(/(?=\w)/g,"&#x200B;")},replace:function(e,t){return t instanceof Array||(t=[t]),t.forEach(function(t){t instanceof Array&&2==t.length&&("string"==typeof t[0]||t[0]instanceof RegExp)&&"string"==typeof t[1]&&e.replace(t[0],t[1])}),e}},n.getLength=function(e){if("object"==typeof e){if(e instanceof Array)return e.length;var t=0;for(var n in e)t++;return t}return"string"==typeof e?e.length:"number"==typeof e?(""+e).length:null},n.Range={getRange:function(e,t){if(!e)return null;t||(t=e.Start.Node.ownerDocument);var n=t.createRange();return n.setStart(e.Start.Node,"number"==typeof e.Start.Index?e.Start.Index:e.Start.Node.textContent.indexOf(e.Start.Text)),n.setEnd(e.End.Node,"number"==typeof e.End.Index?e.End.Index:e.End.Node.textContent.indexOf(e.End.Text)+e.End.Text.length),n},flat:function(e){return e.replace(/[\r\n]/g,"")},escape:function(e){return this.flat(e).replace(/([\(\)\{\}\[\]\,\.\-\+\*\?\!\:\^\$\/\\])/g,"\\$1")},distill:function(e,t,n){for(var r="",o=t;o<=n;o++)r+=e[o];return r},find:function(e,t){if(t||(t=document.body),"string"!=typeof e||!e||this.flat(t.textContent).indexOf(e)<0)return null;if(3==t.nodeType)return{Start:{Node:t,Text:e},End:{Node:t,Text:e}};for(var n=[],r=0,o=t.childNodes.length-1,i="",a={},c=0;c<=o;c++){if(this.flat(t.childNodes[c].textContent).indexOf(e)>=0)return this.find(e,t.childNodes[c]);n.push(t.childNodes[c].textContent)}for(i=this.distill(n,r+1,o);i&&this.flat(i).indexOf(e)>=0;)r++,i=this.distill(n,r+1,o);var s=t.childNodes[r],l=0,u=s.textContent.length-1,f="";for(i=this.distill(s.textContent,l,u);this.flat(i)&&!new RegExp("^"+this.escape(i)).test(e);)l++,i=this.distill(s.textContent,l,u);for(f=this.flat(i);3!=s.nodeType;)a=this.find(f,s),s=a.Start.Node,f=a.Start.Text;for(i=this.distill(n,r,o-1);i&&this.flat(i).indexOf(e)>=0;)o--,i=this.distill(n,r,o-1);var d=t.childNodes[o],h=0,p=d.textContent.length-1,m="";for(i=this.distill(d.textContent,h,p);this.flat(i)&&!new RegExp(this.escape(i)+"$").test(e);)p--,i=this.distill(d.textContent,h,p);for(m=this.flat(i);3!=d.nodeType;)a=this.find(m,d),d=a.End.Node,m=a.End.Text;return{Start:{Node:s,Text:f},End:{Node:d,Text:m}}}},n.Selection={selectRange:function(e){if(!e)return null;var t=window.getSelection();return t.removeAllRanges(),t.addRange(e),e},getSelectedText:n.UA.InternetExplorer<9?function(){var e=""+document.selection.createRange().text;return e?e:""}:function(){var e=""+window.getSelection();return e?e:""}},n.getSelection=function(){return n.Selection.getSelectedText()},n.select=function(e,t){return n.Selection.selectRange(n.Range.getRange(e,t))},n.find=function(e,t){return n.Selection.selectRange(n.Range.getRange(n.Range.find(e,t)))},n.Fullscreen={Enabled:function(e){return e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled}(document),request:function(e){var t=function(t){return function(n){return n||(n=e),n[t]()}};return e.requestFullscreen?t("requestFullscreen"):e.webkitRequestFullscreen?t("webkitRequestFullscreen"):e.mozRequestFullScreen?t("mozRequestFullScreen"):e.msRequestFullscreen?t("msRequestFullscreen"):function(){return!1}}(document.documentElement),exit:function(e){var t=function(t){return function(n){return n||(n=e),n[t]()}};return e.exitFullscreen?t("exitFullscreen"):e.webkitExitFullscreen?t("webkitExitFullscreen"):e.mozCancelFullScreen?t("mozCancelFullScreen"):e.msExitFullscreen?t("msExitFullscreen"):function(){return!1}}(document),getElement:function(e){var t=function(t){return function(n){return n||(n=e),n[t]}};return"undefined"!=typeof e.fullscreenElement?t("fullscreenElement"):"undefined"!=typeof e.webkitFullscreenElement?t("webkitFullscreenElement"):"undefined"!=typeof e.mozFullscreenElement?t("mozFullscreenElement"):"undefined"!=typeof e.msFullscreenElement?t("msFullscreenElement"):function(){return null}}(document)},n.requestFullscreen=n.Fullscreen.request,n.exitFullscreen=n.Fullscreen.exit,n.getFullscreenElement=n.Fullscreen.getElement,n.SML={each:function(e){return n.each(this,e),this},set:function(e,t){return this.each(function(){var r=this;n.set(r,e,t)})},style:function(e){return this.each(function(){var t=this;n.style(t,e)})},appendChild:function(e){return this.each(function(){var t=this;n.each(e,function(){t.appendChild(this)})})},preppendChild:function(e){return this.each(function(){var e=this;n.each(Es,function(){e.insertBefore(this,S.firstChild)})})},insertBefore:function(e,t){return this.each(function(){var e=this;n.each(Es,function(){e.insertBefore(this,t)})})},insertAfter:function(e,t){return this.each(function(){var e=this;n.each(Es,function(){e.insertBefore(this,t.nextSibling)})})},addClass:function(e){return this.each(function(){var t=this;n.addClass(t,e)})},removeClass:function(e){return this.each(function(){var t=this;n.removeClass(t,e)})},replaceClass:function(e,t){return this.each(function(){var r=this;n.replaceClass(r,e,t)})}},window.addEventListener("unload",function(){window.sML=null,delete window.sML}),n}(),V={},document.documentElement.className="extended",document.addEventListener("DOMContentLoaded",function(){V.Title=document.title,V.HTML=document.documentElement,V.HTML.Lang=V.HTML.getAttribute("lang"),sML.Environments.forEach(function(e){V.HTML.classList.add(e)}),V.Head=document.head,V.Body=document.body,V.Body.addEventListener("click",function(e){e.stopPropagation()}),V.Header=document.getElementsByTagName("header")[0],V.Footer=document.getElementsByTagName("footer")[0],V.Main=document.getElementsByTagName("main")[0],V.Main.Sections=V.Body.querySelectorAll("main >article >section"),Array.prototype.forEach.call(V.Main.Sections,function(e){e.Title=(e.querySelector("header img")?e.querySelector("header img").alt+" ":"")+e.querySelector("header h2 span").innerHTML}),V.initTOC(),V.initSharers(),V.initBttT(),V.initOverlay(),V.initOverlaySections(),V.onScroll(),window.addEventListener("scroll",function(){V.onScroll()})}),V.getScrollTop=document.scrollingElement?function(){return document.scrollingElement.scrollTop}:function(){return document.body.scrollTop||document.documentElement.scrollTop},V.watch=function(){V.ScrollTop=V.getScrollTop(),V.showComicCoversInSections(),V.showSectionsInSections()},V.onScroll=function(){V.watch(),clearTimeout(V.Timer_Scrolled),V.Timer_Scrolled=setTimeout(function(){V.onScrolled()},234)},V.onScrolled=function(e){V.switchBttT()},V.isInFrame=function(e){var t=sML.getCoord(e);return t.Top<V.ScrollTop+.67*window.innerHeight&&t.Bottom>V.ScrollTop+70},V.showComicCoversInSections=function(){Array.prototype.forEach.call(V.Body.querySelectorAll('main >article >section[id^="chapter-"] >header'),function(e){!e.Appeared&&V.isInFrame(e)&&(e.classList.add("shown"),e.Appeared=!0)})},V.showSectionsInSections=function(){Array.prototype.forEach.call(V.Body.querySelectorAll("main >article >section >section"),function(e){!e.Appeared&&V.isInFrame(e.querySelector("header"))&&(e.classList.add("shown"),e.Appeared=!0)})},V.scrollToY=function(e,t){sML.scrollTo({X:0,Y:e},{Easing:"easeOutExpo",Duration:345,callback:"function"==typeof t?t:void 0})},V.initTOC=function(){V.TOC=document.getElementById("toc"),Array.prototype.forEach.call(V.TOC.getElementsByTagName("a"),function(e){e.addEventListener("click",function(t){return t.preventDefault(),V.scrollToY(sML.getCoord(V.Main.querySelector(e.hash)).Y,function(){}),!1})})},V.initSharers=function(){Array.prototype.forEach.call(V.Body.querySelectorAll("#page-header li a, #share-this-page li a"),function(e){e.title=e.querySelector("span").innerHTML,/^https:\/\/(www\.facebook\.com|twitter\.com|timeline\.line\.me)\//.test(e.href)&&e.addEventListener("click",function(e){return e.preventDefault(),window.open(this.href,this.target,"width=650, height=500, personalbar=0, toolbar=0, scrollbars=1, sizable=1"),!1})}),document.head.appendChild(sML.create("script",{async:"async",src:"//platform.twitter.com/widgets.js"})),document.body.appendChild(sML.create("div",{id:"fb-root"})),function(e,t,n){var r,o=e.getElementsByTagName(t)[0];e.getElementById(n)||(r=e.createElement(t),r.id=n,r.src="//connect.facebook.net/"+("ja"==V.HTML.Lang?"ja_JP":"en_US")+"/sdk.js#xfbml=1&version=v2.6&app_id="+document.querySelector('meta[property="fb:app_id"]').getAttribute("content"),o.parentNode.insertBefore(r,o))}(document,"script","facebook-jssdk")},V.initBttT=function(){V.BttT=V.HTML.appendChild(sML.create("div",{id:"back-to-the-top","data-visibility":"hidden"})),V.BttT.appendChild(document.createElement("ul")).appendChild(document.createElement("li")).appendChild(sML.create("a",{href:"#page-main-content",innerHTML:"<span>"+("ja"==V.HTML.Lang?"æœ€ä¸Šéƒ¨ã«æˆ»ã‚‹":"Scroll to the Top")+"</span>"})).addEventListener("click",function(e){return e.preventDefault(),V.scrollToY(0),!1})},V.switchBttT=function(){V.BttT.setAttribute("data-visibility",V.ScrollTop?"shown":"hidden")},V.initOverlay=function(){V.Overlay=V.HTML.appendChild(sML.create("div",{id:"overlay"})),V.Overlay.Content=V.Overlay.appendChild(sML.create("div",{className:"overlay-content"})),sML.edit(V.Overlay,{Shown:!1,show:function(){this.Shown||(clearTimeout(this.Timer_Hiding),this.Timer_Hiding=setTimeout(function(){var e=window.innerWidth-V.HTML.offsetWidth;V.Header.style.width="calc(100% - "+e+"px)",V.HTML.style.paddingRight=V.BttT.style.paddingRight=e+"px",V.HTML.style.overflow="hidden"},0),this.Timer_Hiding=setTimeout(function(){V.HTML.classList.add("overlay-shown")},0),this.Shown=!0)},hide:function(){this.Shown&&(this.Timer_Hiding=setTimeout(function(){V.HTML.classList.remove("overlay-shown")},0),this.Timer_Hiding=setTimeout(function(){V.HTML.style.overflow="",V.HTML.style.paddingRight=V.BttT.style.paddingRight="",V.Header.style.width="",V.Overlay.removeOverlaySection()},250),this.Shown=!1)},toggle:function(){this.Shown?this.hide():this.show()},removeOverlaySection:function(){this.Content.Section&&(this.Content.Section.MovieFrame&&(this.Content.Section.MovieFrame.src=""),this.Content.removeChild(this.Content.Section),this.Content.Section=void 0);
},insertOverlaySection:function(e){this.removeOverlaySection(),this.Content.Section=this.Content.insertBefore(e,this.Content.firstElementChild),this.Content.Section.MovieFrame&&(this.Content.Section.MovieFrame.src=this.Content.Section.MovieFrame.Src)},setupOverlaySection:function(e,t){var n=sML.create("section",{className:t.className,innerHTML:e.innerHTML});return n.addEventListener("click",function(e){e.stopPropagation()}),t.Opener&&(n.Opener=e.appendChild(document.createElement("ul")),n.Opener.appendChild(document.createElement("li")).appendChild(sML.create("a",{innerHTML:"<span>"+t.Opener+"</span>"})).addEventListener("click",function(){V.Overlay.insertOverlaySection(n),V.Overlay.show()})),t.Closer&&(n.Closer=n.appendChild(document.createElement("ul")),n.Closer.appendChild(document.createElement("li")).appendChild(sML.create("a",{innerHTML:"<span>"+t.Closer+"</span>"})).addEventListener("click",function(){V.Overlay.hide()})),e.OverlaySection=n,n}}).addEventListener("click",function(e){e.stopPropagation(),this.hide()}),(sML.OS.iOS||sML.OS.Android)&&["touchenter","touchstart","touchmove"].forEach(function(e){V.Overlay.addEventListener(e,function(e){e.stopPropagation()})}),V.Overlay.Content.appendChild(document.createElement("ul")).appendChild(document.createElement("li")).appendChild(sML.create("a",{innerHTML:'<span title="'+("ja"==V.HTML.Lang?"é–‰ã˜ã‚‹":"Close")+'"></span>'})).addEventListener("click",function(){V.Overlay.hide()})},V.initOverlaySections=function(){Array.prototype.forEach.call(document.querySelectorAll('main >article >section[id^="chapter-"]'),function(e){var t=e.querySelector(".figgroup a");if(t&&"ja"==V.HTML.Lang){var n=V.Overlay.setupOverlaySection(e,{className:"comic-section",Opener:"ja"==V.HTML.Lang?"æ¼«ç”»ã‚’èª­ã‚€":"Read Comics"});e.querySelector(".figgroup").appendChild(n.Opener),Array.prototype.forEach.call(n.querySelectorAll("section"),function(e){n.removeChild(e)}),Array.prototype.forEach.call(n.querySelectorAll(".pgroup"),function(e){n.removeChild(e)}),n.querySelector("header").innerHTML="<h3>"+t.querySelector("img").alt+"</h3>",n.querySelector("figure").innerHTML="",n.querySelector("figure").appendChild(sML.create("iframe",{src:t.href+"#bibi(autostart:true)",frameborder:0,allowfullscreen:"allowfullscreen"}))}}),Array.prototype.forEach.call(document.querySelectorAll('main >article >section[id^="chapter-"] >section'),function(e){V.Overlay.setupOverlaySection(e,{className:"detailed-section",Opener:"ja"==V.HTML.Lang?"è©³ã—ãè¦‹ã‚‹":"Read More",Closer:"ja"==V.HTML.Lang?"é–‰ã˜ã‚‹":"Close"});!function(e){e.querySelector("figcaption")&&e.removeChild(e.querySelector("figcaption"))}(e.querySelector("figure")),function(e){e.innerHTML="<p>"+e.getAttribute("data-summary")+"</p>"}(e.querySelector(".pgroup"))}),Array.prototype.forEach.call(document.querySelectorAll("section#pr-videos >section"),function(e){var t=V.Overlay.setupOverlaySection(e,{className:"video-section",Opener:"ja"==V.HTML.Lang?"å†ç”Ÿã™ã‚‹":"Play"});!function(e){e.innerHTML="ja"==V.HTML.Lang?"PRæ˜ åƒã€Œ"+e.innerHTML+"ã€":"PR Video: "+e.innerHTML}(t.querySelector("h3 span")),function(e){e.Src=e.src.replace(/\?.+$/,"?autoplay=1&amp;rel=0"),e.src="",t.MovieFrame=e}(t.querySelector("iframe"))})};